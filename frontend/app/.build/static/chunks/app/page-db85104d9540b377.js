(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1410:function(e,s,t){Promise.resolve().then(t.bind(t,9123))},9123:function(e,s,t){"use strict";t.d(s,{FinLockApp:function(){return ez}});var a=t(784),r=t(1960),i=t(5630),l=t(7601);let n=(0,i.U)()((0,l.tJ)(e=>({user:null,isAuthenticated:!1,budgets:[],transactions:[],cardStatus:null,currentScreen:"home",isLoading:!1,error:null,setUser:s=>e({user:s,isAuthenticated:!!s}),setBudgets:s=>e({budgets:s}),setTransactions:s=>e({transactions:s}),setCardStatus:s=>e({cardStatus:s}),setCurrentScreen:s=>e({currentScreen:s}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),logout:()=>e({user:null,isAuthenticated:!1,budgets:[],transactions:[],cardStatus:null,currentScreen:"home"})}),{name:"finlock-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));var c=t(2310),d=t(664),o=t(5518);let m=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",fintech:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-200",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transition-all duration-200",warning:"bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 shadow-lg hover:shadow-xl transition-all duration-200"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:l=!1,...n}=e,d=l?c.g7:"button";return(0,a.jsx)(d,{className:(0,o.cn)(m({variant:r,size:i,className:t})),ref:s,...n})});x.displayName="Button";let u=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});u.displayName="Input";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});h.displayName="Card";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...r})});p.displayName="CardHeader";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});f.displayName="CardTitle";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...r})});j.displayName="CardDescription";let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",t),...r})});g.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";class N{setToken(e){this.token=e,localStorage.setItem("finlock_token",e)}clearToken(){this.token=null,localStorage.removeItem("finlock_token")}async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t="".concat(this.baseUrl).concat(e),a={"Content-Type":"application/json",...s.headers};this.token&&(a.Authorization="Bearer ".concat(this.token));let r=await fetch(t,{...s,headers:a}),i=await r.json();if(!r.ok)return{success:!1,error:i.message||"HTTP ".concat(r.status)};return{success:!0,data:i}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}async register(e,s,t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify({email:e,password:s,name:t})})}async login(e,s){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:s})})}async getCardStatus(){return this.request("/api/card/status")}async authorizeTransaction(e){return this.request("/api/card/authorize",{method:"POST",body:JSON.stringify(e)})}async getBudgets(){return this.request("/api/budgets")}async getTransactions(){return this.request("/api/transactions")}constructor(e="http://localhost:3000"){this.token=null,this.baseUrl=e,this.token=localStorage.getItem("finlock_token")}}let y=new N;var v=t(2829),b=t(8700),w=t(1314),k=t(7700);function S(e){let{onToggleMode:s}=e,[t,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[m,N]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),{setUser:z,setLoading:Z}=n(),A=async e=>{e.preventDefault(),N(!0),C("");try{let e=await y.login(t,l);e.success&&e.data?(y.setToken(e.data.token),z(e.data.user),Z(!1)):C(e.error||"Login failed")}catch(e){C("Network error. Please try again.")}finally{N(!1)}};return(0,a.jsxs)(h,{className:"w-full max-w-md fintech-card",children:[(0,a.jsxs)(p,{className:"text-center",children:[(0,a.jsx)(f,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome Back"}),(0,a.jsx)(j,{children:"Sign in to your FinLock account"})]}),(0,a.jsxs)(g,{children:[(0,a.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:"email",placeholder:"Email",value:t,onChange:e=>i(e.target.value),className:"pl-10",required:!0})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:d?"text":"password",placeholder:"Password",value:l,onChange:e=>c(e.target.value),className:"pl-10 pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>o(!d),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:d?(0,a.jsx)(w.Z,{}):(0,a.jsx)(k.Z,{})})]})}),S&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:S}),(0,a.jsx)(x,{type:"submit",variant:"fintech",size:"lg",className:"w-full",disabled:m,children:m?"Signing in...":"Sign In"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,a.jsx)("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up"})]})})]})]})}var C=t(4130);function z(e){let{onToggleMode:s}=e,[t,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[m,N]=(0,r.useState)(""),[S,z]=(0,r.useState)(!1),[Z,A]=(0,r.useState)(!1),[E,T]=(0,r.useState)(""),{setUser:F,setLoading:D}=n(),P=async e=>{if(e.preventDefault(),A(!0),T(""),d!==m){T("Passwords do not match"),A(!1);return}if(d.length<6){T("Password must be at least 6 characters"),A(!1);return}try{let e=await y.register(l,d,t);e.success&&e.data?(y.setToken(e.data.token),F(e.data.user),D(!1)):T(e.error||"Registration failed")}catch(e){T("Network error. Please try again.")}finally{A(!1)}};return(0,a.jsxs)(h,{className:"w-full max-w-md fintech-card",children:[(0,a.jsxs)(p,{className:"text-center",children:[(0,a.jsx)(f,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Create Account"}),(0,a.jsx)(j,{children:"Join FinLock for secure spending control"})]}),(0,a.jsxs)(g,{children:[(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:"text",placeholder:"Full Name",value:t,onChange:e=>i(e.target.value),className:"pl-10",required:!0})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:"email",placeholder:"Email",value:l,onChange:e=>c(e.target.value),className:"pl-10",required:!0})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:S?"text":"password",placeholder:"Password",value:d,onChange:e=>o(e.target.value),className:"pl-10 pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>z(!S),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:S?(0,a.jsx)(w.Z,{}):(0,a.jsx)(k.Z,{})})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:"password",placeholder:"Confirm Password",value:m,onChange:e=>N(e.target.value),className:"pl-10",required:!0})]})}),E&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:E}),(0,a.jsx)(x,{type:"submit",variant:"fintech",size:"lg",className:"w-full",disabled:Z,children:Z?"Creating account...":"Create Account"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]})})]})]})}var Z=t(3003);function A(){let[e,s]=(0,r.useState)(!0);return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(Z.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"FinLock"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Secure your spending with smart card controls"})]}),e?(0,a.jsx)(S,{onToggleMode:()=>s(!1)}):(0,a.jsx)(z,{onToggleMode:()=>s(!0)})]})})}var E=t(4392),T=t(1296),F=t(1924),D=t(8238),P=t(4946),R=t(8202);function L(){let{user:e,currentScreen:s,setCurrentScreen:t,logout:i}=n(),[l,c]=(0,r.useState)(!1),d=[{id:"home",label:"Home",icon:E.Z},{id:"authorize",label:"Authorize",icon:T.Z},{id:"history",label:"History",icon:F.Z},{id:"profile",label:"Profile",icon:C.Z}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"FinLock"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground hidden sm:block",children:(null==e?void 0:e.name)||(null==e?void 0:e.email)}),(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>c(!l),children:l?(0,a.jsx)(D.Z,{className:"h-5 w-5"}):(0,a.jsx)(P.Z,{className:"h-5 w-5"})})]})]})}),l&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>c(!1),children:(0,a.jsx)("div",{className:"fixed right-0 top-16 h-full w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[d.map(e=>{let r=e.icon;return(0,a.jsxs)(x,{variant:s===e.id?"default":"ghost",className:"w-full justify-start",onClick:()=>{t(e.id),c(!1)},children:[(0,a.jsx)(r,{className:"mr-2 h-4 w-4"}),e.label]},e.id)}),(0,a.jsx)("div",{className:"border-t pt-2 mt-4",children:(0,a.jsxs)(x,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{y.clearToken(),i(),c(!1)},children:[(0,a.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})})})]})}var $=t(1478);let _=r.forwardRef((e,s)=>{let{className:t,value:r,...i}=e;return(0,a.jsx)($.fC,{ref:s,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)($.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});_.displayName=$.fC.displayName;let M=[{id:"groceries",name:"Groceries",icon:"\uD83D\uDED2",color:"bg-green-500"},{id:"dining",name:"Dining",icon:"\uD83C\uDF7D️",color:"bg-orange-500"},{id:"entertainment",name:"Entertainment",icon:"\uD83C\uDFAC",color:"bg-purple-500"},{id:"gas",name:"Gas",icon:"⛽",color:"bg-blue-500"},{id:"shopping",name:"Shopping",icon:"\uD83D\uDECD️",color:"bg-pink-500"}],O=[{value:5,label:"5 minutes"},{value:10,label:"10 minutes"},{value:15,label:"15 minutes"},{value:30,label:"30 minutes"}],q=[{id:"1",category:"groceries",limit:500,spent:320,period:"monthly"},{id:"2",category:"dining",limit:300,spent:180,period:"monthly"},{id:"3",category:"entertainment",limit:200,spent:45,period:"monthly"},{id:"4",category:"gas",limit:150,spent:90,period:"monthly"},{id:"5",category:"shopping",limit:400,spent:250,period:"monthly"}],I=[{id:"1",amount:25.5,category:"groceries",description:"Whole Foods Market",status:"completed",createdAt:new Date().toISOString()},{id:"2",amount:45,category:"dining",description:"Pizza Palace",status:"completed",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"3",amount:12.99,category:"entertainment",description:"Netflix Subscription",status:"completed",createdAt:new Date(Date.now()-1728e5).toISOString()}];var B=t(3038),Y=t(7688),U=t(3644),H=t(1555);function J(){var e;let{budgets:s,setBudgets:t,cardStatus:i,setCardStatus:l,setCurrentScreen:c,isLoading:d,setLoading:o}=n(),[m,u]=(0,r.useState)(0),[j,N]=(0,r.useState)(0);(0,r.useEffect)(()=>{v()},[]),(0,r.useEffect)(()=>{if(s.length>0){let e=s.reduce((e,s)=>e+s.spent,0),t=s.reduce((e,s)=>e+s.limit,0);u(e),N(t)}},[s]);let v=async()=>{o(!0);try{let e=await y.getBudgets();e.success&&e.data?t(e.data):t(q);let s=await y.getCardStatus();s.success&&s.data?l(s.data):l({status:"frozen"})}catch(e){console.error("Failed to load data:",e),t(q),l({status:"frozen"})}finally{o(!1)}},b=(e,s)=>Math.min(e/s*100,100),w=(e,s)=>{let t=e/s*100;return t>=90?"danger":t>=75?"warning":"safe"},k=e=>M.find(s=>s.id===e)||M[0];return d?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})}):(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-4xl mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to FinLock"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your smart spending companion with freeze-by-default protection"})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsx)(g,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(null==i?void 0:i.status)==="authorized"?(0,a.jsx)(B.Z,{className:"h-8 w-8 text-green-600"}):(0,a.jsx)(Z.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg",children:["Card Status: ",(null==i?void 0:i.status)==="authorized"?"Authorized":"Frozen"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==i?void 0:i.status)==="authorized"?"Expires ".concat(i.expiresAt?new Date(i.expiresAt).toLocaleTimeString():"soon"):"Authorize a purchase to unlock temporarily"})]})]}),(null==i?void 0:i.status)==="authorized"&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Authorized Amount"}),(0,a.jsxs)("p",{className:"font-semibold text-green-600",children:["$",(null===(e=i.authorizedAmount)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]})]})})})}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Budget Overview"})]})}),(0,a.jsxs)(g,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600 animate-count-up",children:["$",m.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Budget"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 animate-count-up",children:["$",j.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Overall Progress"}),(0,a.jsxs)("span",{children:[(m/j*100).toFixed(1),"%"]})]}),(0,a.jsx)(_,{value:m/j*100,className:"h-2"})]})]})]})}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Budget Categories"}),(0,a.jsx)("div",{className:"grid gap-4",children:s.map((e,s)=>{let t=k(e.category),r=b(e.spent,e.limit),i=w(e.spent,e.limit);return(0,a.jsx)(H.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+.1*s},children:(0,a.jsx)(h,{className:"fintech-card hover:shadow-lg transition-shadow",children:(0,a.jsxs)(g,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(t.color," flex items-center justify-center text-white text-lg"),children:t.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.spent.toFixed(2)," of $",e.limit.toFixed(2)]})]})]}),"danger"===i&&(0,a.jsx)(U.Z,{className:"h-5 w-5 text-red-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{className:"danger"===i?"text-red-600":"warning"===i?"text-orange-600":"text-green-600",children:[r.toFixed(1),"%"]})]}),(0,a.jsx)(_,{value:r,className:"h-2 ".concat("danger"===i?"budget-progress danger":"warning"===i?"budget-progress warning":"budget-progress")})]})]})})},e.id)})})]}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center pt-4",children:[(0,a.jsxs)(x,{variant:"fintech",size:"xl",className:"w-full max-w-md",onClick:()=>c("authorize"),children:[(0,a.jsx)(T.Z,{className:"mr-2 h-5 w-5"}),"Authorize Purchase"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Temporarily unlock your card for a specific purchase"})]})]})}var V=t(3147),W=t(8787),G=t(6026),Q=t(9568);let X=V.fC;V.ZA;let K=V.B4,ee=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(V.xz,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[r,(0,a.jsx)(V.JO,{asChild:!0,children:(0,a.jsx)(W.Z,{className:"h-4 w-4 opacity-50"})})]})});ee.displayName=V.xz.displayName;let es=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(G.Z,{className:"h-4 w-4"})})});es.displayName=V.u_.displayName;let et=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(W.Z,{className:"h-4 w-4"})})});et.displayName=V.$G.displayName;let ea=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...l}=e;return(0,a.jsx)(V.h_,{children:(0,a.jsxs)(V.VY,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,a.jsx)(es,{}),(0,a.jsx)(V.l_,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(et,{})]})})});ea.displayName=V.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=V.__.displayName;let er=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(V.ck,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(V.wU,{children:(0,a.jsx)(Q.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(V.eT,{children:r})]})});er.displayName=V.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=V.Z0.displayName;var ei=t(3331),el=t(7675),en=t(6585),ec=t(2574);function ed(){let{setCurrentScreen:e,setCardStatus:s,setLoading:t}=n(),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[o,m]=(0,r.useState)(5),[j,N]=(0,r.useState)(!1),[v,b]=(0,r.useState)(""),w=async t=>{if(t.preventDefault(),b(""),!i||!c){b("Please fill in all fields");return}let a=parseFloat(i);if(isNaN(a)||a<=0){b("Please enter a valid amount");return}if(a>1e3){b("Amount cannot exceed $1,000 per authorization");return}N(!0);try{let t=await y.authorizeTransaction({amount:a,category:c,duration:o});t.success&&t.data?(s({status:"authorized",expiresAt:t.data.expiresAt,authorizedAmount:a,authorizedCategory:c}),e("success")):b(t.error||"Authorization failed")}catch(e){b("Network error. Please try again.")}finally{N(!1)}};return(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-md mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,a.jsx)(ei.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Authorize Purchase"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Temporarily unlock your card"})]})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Purchase Details"})]})}),(0,a.jsx)(g,{children:(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Amount"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(el.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u,{type:"number",placeholder:"0.00",value:i,onChange:e=>l(e.target.value),className:"pl-10 text-lg",step:"0.01",min:"0.01",max:"1000",required:!0})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum $1,000 per authorization"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,a.jsxs)(X,{value:c,onValueChange:d,required:!0,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(K,{placeholder:"Select a category"})}),(0,a.jsx)(ea,{children:M.map(e=>(0,a.jsx)(er,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.name})]})},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Authorization Duration"}),(0,a.jsxs)(X,{value:o.toString(),onValueChange:e=>m(parseInt(e)),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(K,{})}),(0,a.jsx)(ea,{children:O.map(e=>(0,a.jsx)(er,{value:e.value.toString(),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Card will automatically freeze after this time"})]}),v&&(0,a.jsxs)(H.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,a.jsx)(ec.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:v})]}),(0,a.jsx)(x,{type:"submit",variant:"success",size:"lg",className:"w-full",disabled:j||!i||!c,children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Authorizing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{className:"mr-2 h-4 w-4"}),"Unlock Card"]})})]})})]})}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(h,{className:"bg-blue-50 border-blue-200",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-blue-900 mb-1",children:"Security Notice"}),(0,a.jsx)("p",{className:"text-blue-700",children:"Your card will be temporarily unlocked for the specified amount and duration. It will automatically freeze again for your protection."})]})]})})})})]})}var eo=t(6667),em=t(6598),ex=t(7518);function eu(){var e;let s;let{cardStatus:t,setCurrentScreen:i}=n(),[l,c]=(0,r.useState)("");(0,r.useEffect)(()=>{if(null==t?void 0:t.expiresAt){let e=()=>{let e=new Date().getTime(),s=new Date(t.expiresAt).getTime()-e;s>0?c("".concat(Math.floor(s%36e5/6e4),":").concat(Math.floor(s%6e4/1e3).toString().padStart(2,"0"))):c("Expired")};e();let s=setInterval(e,1e3);return()=>clearInterval(s)}},[null==t?void 0:t.expiresAt]);let d=(s=(null==t?void 0:t.authorizedCategory)||"groceries",M.find(e=>e.id===s)||M[0]);return(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-md mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(eo.Z,{className:"w-12 h-12 text-green-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Card Authorized!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your card is temporarily unlocked for this purchase"})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsxs)(g,{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Authorized Amount"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",(null==t?void 0:null===(e=t.authorizedAmount)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 py-4 border-t border-b",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(d.color," flex items-center justify-center text-white text-lg"),children:d.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:d.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Category"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(en.Z,{className:"h-5 w-5 text-orange-600"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-orange-600",children:l}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time remaining"})]})]})]})})}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[(0,a.jsxs)(x,{variant:"success",size:"lg",className:"w-full",onClick:()=>{setTimeout(()=>{i("post-purchase")},2e3)},children:[(0,a.jsx)(em.Z,{className:"mr-2 h-5 w-5"}),"Open Wallet to Tap & Pay"]}),(0,a.jsxs)(x,{variant:"outline",size:"lg",className:"w-full",onClick:()=>i("home"),children:["Return to Dashboard",(0,a.jsx)(ex.Z,{className:"ml-2 h-4 w-4"})]})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:(0,a.jsx)(h,{className:"bg-blue-50 border-blue-200",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-blue-900 mb-1",children:"Security Reminder"}),(0,a.jsx)("p",{className:"text-blue-700",children:"Your card will automatically freeze again when the timer expires or after your purchase is complete."})]})]})})})})]})}var eh=t(3087),ep=t(6673),ef=t(7691);function ej(){let e;let{cardStatus:s,budgets:t,setBudgets:i,setCurrentScreen:l,setCardStatus:c}=n(),[d]=(0,r.useState)((null==s?void 0:s.authorizedAmount)||0),[o,m]=(0,r.useState)(null),[u,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(null==s?void 0:s.authorizedCategory)&&d>0&&(i(t.map(e=>e.category===s.authorizedCategory?{...e,spent:e.spent+d}:e)),c({status:"frozen"}))},[]);let N=(e=(null==s?void 0:s.authorizedCategory)||"groceries",M.find(s=>s.id===e)||M[0]),y=t.find(e=>e.category===(null==s?void 0:s.authorizedCategory)),v=y?Math.min(y.spent/y.limit*100,100):0,b=y?((e,s)=>{let t=e/s*100;return t>=90?"danger":t>=75?"warning":"safe"})(y.spent,y.limit):"safe",w=e=>{m(e),j(!0),setTimeout(()=>{j(!1)},2e3)};return(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-md mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(eh.Z,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Purchase Complete!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your card has been automatically frozen again"})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ep.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Transaction Summary"})]})}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center py-4 border-b",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Amount Charged"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",d.toFixed(2)]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(N.color," flex items-center justify-center text-white text-lg"),children:N.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:N.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleTimeString()})]})]})})]})]})}),y&&(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Updated Budget"})]})}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:[N.name," Budget"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",y.spent.toFixed(2)," of $",y.limit.toFixed(2)]})]}),"danger"===b&&(0,a.jsx)(U.Z,{className:"h-5 w-5 text-red-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{className:"danger"===b?"text-red-600":"warning"===b?"text-orange-600":"text-green-600",children:[v.toFixed(1),"%"]})]}),(0,a.jsx)(_,{value:v,className:"h-3 ".concat("danger"===b?"budget-progress danger":"warning"===b?"budget-progress warning":"budget-progress")})]}),"danger"===b&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,a.jsxs)("p",{className:"text-sm text-red-700",children:["⚠️ You've exceeded 90% of your ",N.name.toLowerCase()," budget this month."]})})]})]})}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsx)(g,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"How was your experience?"}),(0,a.jsx)("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>w(e),className:"p-2 rounded-full transition-colors ".concat(o===e?"bg-yellow-100 text-yellow-600":"hover:bg-gray-100 text-gray-400"),children:(0,a.jsx)(ef.Z,{className:"h-6 w-6 ".concat(o===e?"fill-current":"")})},e))}),u&&(0,a.jsx)(H.E.p,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-sm text-green-600",children:"Thank you for your feedback!"})]})})})}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-3",children:[(0,a.jsxs)(x,{variant:"fintech",size:"lg",className:"w-full",onClick:()=>l("home"),children:[(0,a.jsx)(E.Z,{className:"mr-2 h-5 w-5"}),"Return to Dashboard"]}),(0,a.jsx)(x,{variant:"outline",size:"lg",className:"w-full",onClick:()=>l("authorize"),children:"Make Another Purchase"})]})]})}var eg=t(3390),eN=t(9461),ey=t(3904);function ev(){let{transactions:e,setTransactions:s,setCurrentScreen:t,isLoading:i,setLoading:l}=n(),[c,d]=(0,r.useState)("all");(0,r.useEffect)(()=>{o()},[]);let o=async()=>{l(!0);try{let e=await y.getTransactions();e.success&&e.data?s(e.data):s(I)}catch(e){console.error("Failed to load transactions:",e),s(I)}finally{l(!1)}},m=e=>M.find(s=>s.id===e)||M[0],u="all"===c?e:e.filter(e=>e.category===c),p=e.reduce((e,s)=>e+s.amount,0),f=e.filter(e=>{let s=new Date(e.createdAt),t=new Date;return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()});return i?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading transaction history..."})]})}):(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-4xl mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>t("home"),className:"md:hidden",children:(0,a.jsx)(ei.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Transaction History"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View your spending activity and patterns"})]})]}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["$",p.toFixed(2)]})]})]})})}),(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eg.Z,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"This Month"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[f.length," transactions"]})]})]})})}),(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eN.Z,{className:"h-5 w-5 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg. Transaction"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:["$",e.length>0?(p/e.length).toFixed(2):"0.00"]})]})]})})})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsxs)(g,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Filter by category:"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(x,{variant:"all"===c?"default":"outline",size:"sm",onClick:()=>d("all"),children:"All"}),M.map(e=>(0,a.jsxs)(x,{variant:c===e.id?"default":"outline",size:"sm",onClick:()=>d(e.id),className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.name})]},e.id))]})]})})}),(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Recent Transactions"}),0===u.length?(0,a.jsx)(h,{className:"fintech-card",children:(0,a.jsxs)(g,{className:"p-8 text-center",children:[(0,a.jsx)(F.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"font-medium text-lg mb-2",children:"No transactions found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"all"===c?"You haven't made any transactions yet.":"No transactions found for ".concat(m(c).name,".")})]})}):(0,a.jsx)("div",{className:"space-y-3",children:u.map((e,s)=>{let t=m(e.category),r=new Date(e.createdAt);return(0,a.jsx)(H.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+.1*s},children:(0,a.jsx)(h,{className:"fintech-card hover:shadow-lg transition-shadow",children:(0,a.jsx)(g,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(t.color," flex items-center justify-center text-white text-lg"),children:t.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.description||t.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[r.toLocaleDateString()," at ",r.toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold text-lg",children:["$",e.amount.toFixed(2)]}),(0,a.jsx)("p",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.status})]})]})})})},e.id)})})]})]})}var eb=t(589),ew=t(8576),ek=t(559),eS=t(8249);function eC(){let{user:e,setCurrentScreen:s,logout:t}=n(),[i,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)((null==e?void 0:e.name)||""),[o,m]=(0,r.useState)(!1),j=async()=>{m(!0),setTimeout(()=>{m(!1),l(!1)},1e3)},N=[{title:"Account Security",icon:Z.Z,items:[{label:"Two-Factor Authentication",value:"Enabled",status:"success"},{label:"Password",value:"Last changed 30 days ago",status:"neutral"},{label:"Login Sessions",value:"2 active sessions",status:"neutral"}]},{title:"Card Settings",icon:T.Z,items:[{label:"Default Freeze Mode",value:"Enabled",status:"success"},{label:"Max Authorization Amount",value:"$1,000",status:"neutral"},{label:"Auto-freeze Timer",value:"5 minutes default",status:"neutral"}]},{title:"Notifications",icon:eb.Z,items:[{label:"Transaction Alerts",value:"Enabled",status:"success"},{label:"Budget Warnings",value:"Enabled",status:"success"},{label:"Security Alerts",value:"Enabled",status:"success"}]}];return(0,a.jsxs)("div",{className:"space-y-6 p-4 max-w-4xl mx-auto",children:[(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>s("home"),className:"md:hidden",children:(0,a.jsx)(ei.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Profile & Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your account and security preferences"})]})]}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Personal Information"})]})}),(0,a.jsx)(g,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(C.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("div",{className:"flex-1",children:i?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{value:c,onChange:e=>d(e.target.value),placeholder:"Full Name"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(x,{size:"sm",onClick:j,disabled:o,children:[o?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-1"}):(0,a.jsx)(ew.Z,{className:"h-4 w-4 mr-1"}),"Save"]}),(0,a.jsxs)(x,{size:"sm",variant:"outline",onClick:()=>{l(!1),d((null==e?void 0:e.name)||"")},children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:(null==e?void 0:e.name)||"User"}),(0,a.jsx)(x,{size:"sm",variant:"ghost",onClick:()=>l(!0),children:(0,a.jsx)(ek.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("p",{className:"text-muted-foreground flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),null==e?void 0:e.email]})]})})]})})]})}),N.map((e,s)=>{let t=e.icon;return(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*s},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(t,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.title})]})}),(0,a.jsx)(g,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.items.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.value})]}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs ".concat("success"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:"success"===e.status?"✓":"•"})]},s))})})]})},e.title)}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsxs)(h,{className:"fintech-card",children:[(0,a.jsx)(p,{children:(0,a.jsxs)(f,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eS.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Quick Actions"})]})}),(0,a.jsxs)(g,{className:"space-y-3",children:[(0,a.jsxs)(x,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"Change Password"]}),(0,a.jsxs)(x,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(T.Z,{className:"mr-2 h-4 w-4"}),"Manage Card Settings"]}),(0,a.jsxs)(x,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(eb.Z,{className:"mr-2 h-4 w-4"}),"Notification Preferences"]})]})]})}),(0,a.jsx)(H.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center pt-4",children:(0,a.jsxs)(x,{variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",onClick:()=>{y.clearToken(),t()},children:[(0,a.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})}function ez(){let{isAuthenticated:e,currentScreen:s,setLoading:t}=n();return((0,r.useEffect)(()=>{t(!1);{let e=localStorage.getItem("finlock_token");e&&y.setToken(e)}},[t]),e)?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,a.jsx)(L,{}),(0,a.jsx)("main",{className:"pb-6",children:(()=>{switch(s){case"home":default:return(0,a.jsx)(J,{});case"authorize":return(0,a.jsx)(ed,{});case"success":return(0,a.jsx)(eu,{});case"post-purchase":return(0,a.jsx)(ej,{});case"history":return(0,a.jsx)(ev,{});case"profile":return(0,a.jsx)(eC,{})}})()})]}):(0,a.jsx)(A,{})}},5518:function(e,s,t){"use strict";t.d(s,{cn:function(){return i}});var a=t(3201),r=t(3298);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[780,319,427,275,744],function(){return e(e.s=1410)}),_N_E=e.O()}]);